"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2516],{2516:(y,f,l)=>{l.r(f),l.d(f,{LoginPageModule:()=>w});var m=l(6814),u=l(95),n=l(6728),h=l(3044),e=l(6242),b=l(9045),C=l(7132);const M=["passwordEyeRegister"],P=[{path:"",component:(()=>{var i;class g{constructor(o,t,s,a,d){this.router=o,this.toastCtrl=t,this.dataService=s,this.menuCtrl=a,this.logoService=d,this.btnIngresar="INGRESAR",this.politicas=!1,this.btnDisable=!1,this.chPolitica=" Acepto la",this.chDatos="pol\xedtica de tratamiento de datos",this.lblInformacion="Si olvidaste tu contrase\xf1a o tienes alguna duda, puedes contactarnos a nuetro correo: ",this.lblCorreo="contacto@contentgrp.com",this.lblresto=" y atenderemos tus inquetudes",this.iconpassword="eye-off",this.passwordTypeInput="password",this.email="",this.password=""}getData(){this.dataService.setStorage("ingreso",!1),this.dataService.ingreso=!1,this.dataService.getLogin(this.email,this.password).subscribe(o=>{this.getDataResult(o)})}getDataResult(o){if(o.error)this.dataService.showToast(this.toastCtrl,o.statusText);else{const r=o;var t,s,a,d,p,v;"Success"===r.message&&(this.dataService.ingreso=!0,this.dataService.setStorage("ingreso",!0),this.dataService.setStorage("token",r.token),this.dataService.setStorage("user",r.user),this.dataService.setStorage("tokenFull",r),this.dataService.setStorage("companyId",null===(t=r.company)||void 0===t?void 0:t.id),this.dataService.setStorage("logo",null===(s=r.company)||void 0===s?void 0:s.logo),this.dataService.setStorage("css",null===(a=r.company)||void 0===a?void 0:a.css),this.dataService.setStorage("id",null===(d=r.user)||void 0===d?void 0:d.id),this.logoService.setLogo(null===(p=r.company)||void 0===p?void 0:p.logo),this.logoService.setClassMenu("contenidoHeader"),this.dataService.setStorage("userId",null===(v=r.silver)||void 0===v?void 0:v.id),this.menuCtrl.enable(!0),this.router.navigate(["/main"])),this.dataService.showToast(this.toastCtrl,r.message)}}home(){this.getData()}togglePasswordMode(){this.passwordTypeInput="text"===this.passwordTypeInput?"password":"text",this.iconpassword="eye-off"===this.iconpassword?"eye":"eye-off",this.passwordEye.el.setFocus()}validarDatos(o){this.btnDisable=!1,void 0===this.email||""===this.email?(this.politicas=!1,this.dataService.showToast(this.toastCtrl,"El correo se encuentra vacio")):void 0===this.password||""===this.password?(this.politicas=!1,this.dataService.showToast(this.toastCtrl,"La contrase\xf1a se encuentra vacio")):this.politicas?this.btnDisable=!0:(this.politicas=!1,this.btnDisable=!1),o.target.checked=this.politicas}ngOnInit(){this.menuCtrl.enable(!1),this.logoService.setClassMenu("contenidoHeaderlogin")}}return(i=g).\u0275fac=function(o){return new(o||i)(e.Y36(h.F0),e.Y36(n.yF),e.Y36(b.s),e.Y36(n._q),e.Y36(C.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-login"]],viewQuery:function(o,t){if(1&o&&e.Gf(M,5),2&o){let s;e.iGM(s=e.CRH())&&(t.passwordEye=s.first)}},decls:30,vars:12,consts:[[1,"mainLogin"],[1,"contenPrin"],[1,"ion-align-items-center"],["size","12"],["type","email","placeholder","Correo Electr\xf3nico","required","",3,"ngModel","ngModelChange"],["placeholder","Contrase\xf1a","required","",3,"type","ngModel","ngModelChange"],["passwordEyeRegister",""],["size","1"],[3,"checked","ngModel","ngModelChange","ionChange"],["size","11"],[1,"politica"],[1,"datos"],["expand","block",1,"button-silver-login",3,"disabled","click"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-grid")(3,"ion-row",2)(4,"ion-col",3)(5,"ion-input",4),e.NdJ("ngModelChange",function(a){return t.email=a}),e.qZA()()(),e.TgZ(6,"ion-row",2)(7,"ion-col",3)(8,"ion-input",5,6),e.NdJ("ngModelChange",function(a){return t.password=a}),e.qZA()()(),e.TgZ(10,"ion-row",2)(11,"ion-col",7)(12,"ion-checkbox",8),e.NdJ("ngModelChange",function(a){return t.politicas=a})("ionChange",function(a){return t.validarDatos(a)}),e.qZA()(),e.TgZ(13,"ion-col",9)(14,"ion-label",10),e._uU(15),e.qZA(),e.TgZ(16,"ion-label",11),e._uU(17),e.qZA()()(),e.TgZ(18,"ion-row",2)(19,"ion-col",3)(20,"ion-button",12),e.NdJ("click",function(){return t.home()}),e._uU(21),e.qZA()()(),e.TgZ(22,"ion-row",2)(23,"ion-col",3)(24,"ion-label",10),e._uU(25),e.qZA(),e.TgZ(26,"ion-label",11),e._uU(27),e.qZA(),e.TgZ(28,"ion-label",10),e._uU(29),e.qZA()()()()()()),2&o&&(e.xp6(5),e.Q6J("ngModel",t.email),e.xp6(3),e.Q6J("type",t.passwordTypeInput)("ngModel",t.password),e.xp6(4),e.s9C("checked",t.politicas),e.Q6J("ngModel",t.politicas),e.xp6(3),e.Oqu(t.chPolitica),e.xp6(2),e.hij(" ",t.chDatos,""),e.xp6(3),e.Q6J("disabled",!t.btnDisable),e.xp6(1),e.Oqu(t.btnIngresar),e.xp6(4),e.Oqu(t.lblInformacion),e.xp6(2),e.Oqu(t.lblCorreo),e.xp6(2),e.Oqu(t.lblresto))},dependencies:[u.JJ,u.Q7,u.On,n.YG,n.nz,n.wI,n.W2,n.jY,n.pK,n.Q$,n.Nd,n.w,n.j9],styles:["*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box;color:silver!important}.mainLogin[_ngcontent-%COMP%]{width:100%;height:100vh;--background: url(login.048fa4d1e0918bb4.png) 0 0/100% 100% no-repeat}.mainLogin[_ngcontent-%COMP%]   .contenPrin[_ngcontent-%COMP%]{position:absolute;bottom:0!important;font-weight:700;font-size:16px!important}.button-silver-login[_ngcontent-%COMP%]{--background: #E7E7E7 !important;color:#010927!important;font-weight:700;margin:10px!important}ion-col[_ngcontent-%COMP%]{padding:4%}ion-input[_ngcontent-%COMP%]{border-bottom:2px solid #31306b;padding:2%}.btn_eye_icon[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:15px;background:transparent}.btn_eye_icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px;color:#999}.btn_eye_icon[_ngcontent-%COMP%]:focus{outline:none!important}.politica[_ngcontent-%COMP%]{font-size:12px;text-align:center}.datos[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:12px;text-align:center}"]}),g})()}];let S=(()=>{var i;class g{}return(i=g).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(P),h.Bz]}),g})(),w=(()=>{var i;class g{}return(i=g).\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,u.u5,n.Pc,S]}),g})()}}]);